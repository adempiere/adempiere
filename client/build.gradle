/******************************************************************************
 *                                                                            *
 * Product: Adempiere ERP & CRM Smart Business Solution                       *
 * Copyright (C) Serasoft S.r.l. Consultants All Rights Reserved.             *
 *                                                                            *
 * This program is free software; you can redistribute it and/or              *
 * modify it under the terms of the GNU General Public License                *
 * as published by the Free Software Foundation; either version 2             *
 * of the License, or (at your option) any later version.                     *
 *                                                                            *
 * This program is distributed in the hope that it will be useful,            *
 * but WITHOUT ANY WARRANTY; without even the implied warranty of             *
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.                       *
 * See the GNU General Public License for more details.                       *
 * You should have received a copy of the GNU General Public License along    *
 * with this program; if not, write to the Free Software Foundation, Inc.,    *
 * 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.                     *
 *                                                                            *
 * @author sergio.ramazzina@serasoft.it, www.serasoft.it                      *
 *                                                                            *
 *****************************************************************************/

apply plugin: 'java'
apply plugin: 'maven-publish'

version = System.properties['project.version']
description = 'This buildfile is used to build the client subproject within the Adempiere project.'

repositories {
    mavenCentral()
    maven {
        url "https://repo.serasoft.org/repository/adempiere-snapshot/"
    }
    mavenLocal()
}

dependencies {

    compile group: 'jfree', name: 'jcommon', version: '1.0.16'
    compile group: 'jfree', name: 'jfreechart', version: '1.0.13'

    compile group:'org.adempiere', name: 'CCTools', version: version
    // TODO  Temporarily using CSTools to compile client. Better to use the specific libraries and remove CSTools!
    compile group:'org.adempiere', name: 'CSTools', version: version
    compile group:'org.adempiere', name: 'Base', version: version

    compile fileTree(dir: './lib', include: '*.jar')

    // This dependencies are for customizations and patches. Temporarily commented because otherwise
    // we will have an error (the jars are not available), this mechanism must be reviewed and redesigned
    // to be more elgant and efficent.
    //
    // compile file('lib/customization.jar')
    // compile file('lib/patches.jar')

}

// TODO to consider definitive we need to add the inclusion of the Jasper things + other (see original build.xml)
publishing {
    publications {
        swingClientJar(MavenPublication) {
            groupId 'org.adempiere'
            artifactId 'client' // TODO Why not giving a name that identify the nature of this client? SWING
            version version

            artifact jar
        }
    }
}

publishing {
    repositories {
        maven {
            url "https://repo.serasoft.org/repository/adempiere-snapshot/"
            credentials {
                username System.properties['deploy.user.name']
                password System.properties['deploy.user.pwd']
            }
        }
    }
}


jar {
    manifest {
        attributes("Implementation-Title": "Adempiere SWING Client Module",
                   "Implementation-Version": version)
    }
}

