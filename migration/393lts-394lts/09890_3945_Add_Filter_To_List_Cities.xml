<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Migrations>
  <Migration EntityType="D" Name="Add Filter To List Cities" ReleaseNo="3.9.4" SeqNo="9890">
    <Comments>https://github.com/adempiere/adempiere/issues/3945 </Comments>
    <Step SeqNo="10" StepType="AD">
      <PO AD_Table_ID="106" Action="U" Record_ID="136" Table="AD_Tab">
        <Data AD_Column_ID="13449" Column="ReadOnlyLogic" isOldNull="true">@HasRegion@=N</Data>
      </PO>
    </Step>
    <Step SeqNo="20" StepType="AD">
      <PO AD_Table_ID="106" Action="U" Record_ID="215" Table="AD_Tab">
        <Data AD_Column_ID="2741" Column="WhereClause" isOldNull="true">('@HasRegion@'='Y' AND C_City.C_Region_ID=@C_Region_ID@ OR C_City.C_Region_ID IS NULL) OR ('@HasRegion@'='N')</Data>
      </PO>
    </Step>
    <Step SeqNo="30" StepType="AD">
      <PO AD_Table_ID="107" Action="U" Record_ID="5747" Table="AD_Field">
        <Data AD_Column_ID="53265" Column="DefaultValue" isOldNull="true">@C_Region_ID@</Data>
      </PO>
    </Step>
    <Step SeqNo="40" StepType="AD">
      <PO AD_Table_ID="108" Action="U" Record_ID="52045" Table="AD_Val_Rule">
        <Data AD_Column_ID="193" Column="Code" oldValue="((@C_Region_ID@&gt;0 AND C_City.C_Region_ID=@C_Region_ID@) OR (@C_Region_ID@=0 AND C_City.C_Country_ID=@C_Country_ID@ AND C_City.C_Region_ID IS NULL))">C_City.C_Country_ID=@C_Country_ID@ AND (@C_Region_ID@=0 OR (@C_Region_ID@&gt;0 AND C_City.C_Region_ID=@C_Region_ID@ OR C_City.C_Region_ID IS NULL))</Data>
      </PO>
    </Step>
    <Step SeqNo="50" StepType="AD">
      <PO AD_Table_ID="101" Action="U" Record_ID="7048" Table="AD_Column">
        <Data AD_Column_ID="115" Column="AD_Val_Rule_ID" isOldNull="true">52045</Data>
      </PO>
    </Step>
  </Migration>
</Migrations>
